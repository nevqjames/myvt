<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MYVT - Malaysian VTuber Board</title>
    
    <!-- LOAD CSS (Order matters!) -->
    <!-- 1. Core: Variables, Resets, Typography -->
    <link rel="stylesheet" href="asset/css/core.css">
    <!-- 2. Layout: Positioning, Grid, Cards, Mobile -->
    <link rel="stylesheet" href="asset/css/layout.css">
    <!-- 3. Themes: Night Mode, P5 Styling, Blur Effects -->
    <link rel="stylesheet" href="asset/css/themes.css">
    
    <!-- FIREBASE SDK -->
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
</head>
<body>
    <!-- 1. HEADER (Persona 3 Reload Styled) -->
    <div class="header">
        <h1 id="boardTitle">MYVT - Portal</h1>
        
        <!-- Board Links -->
        <div class="nav-boards" id="navBoards"></div>
        

        <div class="nav-site">
            [ <a href="index.html">Home</a> ] 
            [ <a href="#bottom">Bottom</a> ]
        </div>
    </div>

    <!-- 2. POST FORM (Wrapped in stylized container) -->
    <div id="formWrapper" class="post-box" style="display:none;">
        <div class="form-header" id="formTitle">Create New Thread</div>
        <form id="postForm">
            <input type="text" id="nameInput" placeholder="Name (Anonymous)" value="Anonymous">
            <input type="text" id="subjectInput" placeholder="Subject">
            <textarea id="commentInput" placeholder="Write your comment..." required></textarea>
            
            <div style="display: flex; gap: 8px;">
                <input type="url" id="imageInput" placeholder="Media URL (X/YT/Direct Link)" style="flex-grow: 1;">
                <button type="button" id="uploadBtn">Upload Image</button>
            </div>
            
            <input type="file" id="hiddenFileInput" accept="image/*" style="display: none;">
            <button type="submit" id="submitBtn">Submit Post</button>
        </form>
    </div>

    <hr id="topDivider" style="display:none; border-color: var(--border-color); margin: 20px 0;">

    <!-- 3. VIEW: HOME PAGE (Portal View) -->
    <div id="homeView" class="home-container" style="display:none;">
        <div class="welcome-section">
            <h2>Selamat Datang to /myvt/</h2>
            <p>The premier imageboard for the Malaysian Virtual YouTuber community and adjacent Otaku culture.</p>
        </div>

        <div class="instruction-grid">
            <div class="ins-card">
                <h3>üç± Board Directory</h3>
                <div class="home-links">
                    <a href="?b=myvt">/myvt/ - Malaysian VTubers</a>
                    <a href="?b=vt">/vt/ - Global/SEA VTubers</a>
                    <a href="?b=v">/v/ - Video Gaming</a>
                    <a href="?b=acg">/acg/ - Anime & Events</a>
                    <a href="?b=art">/art/ - Fanart & Assets</a>
                    <a href="?b=tech">/tech/ - Tech Support</a>
                    <a href="?b=mamak">/mamak/ - General & Off-Topic</a>
                </div>
            </div>
            
            <div class="ins-card">
                <h3>üìñ How to Use</h3>
                <ul>
                    <li><b>Start a Thread:</b> Pick a board, fill the form, and attach media.</li>
                    <li><b>Replying:</b> Click <b>[Reply ‚ûú]</b> or a Post ID to quote someone.</li>
                    <li><b>Media:</b> We support YouTube, X (Twitter), and direct images.</li>
                    <li><b>Bumping:</b> New activity brings threads to the top.</li>
                </ul>
            </div>
        </div>

        <div class="rules-box">
            <h3>üìú Rules</h3>
            <p>1. No illegal content (CSAM). 2. No spam or commercial advertising. 3. Be civil regarding local talents and their identities.</p>
        </div>

        <div class="footer-secret">
            <a href="?b=myvth" class="secret-link">.</a> <!-- Hidden Entry -->
        </div>
    </div>

    <!-- 4. VIEW: BOARD INDEX -->
    <div id="boardView" style="display:none;">
        <div id="threadList"></div>
    </div>

    <!-- 5. VIEW: SINGLE THREAD -->
    <div id="threadView" style="display:none;">
        <div style="max-width: 1000px; margin: 0 auto 15px auto;">
            <a href="#" onclick="window.location.hash=''; return false;" class="reply-link" style="float:none; display:inline-block;"> ‚¨Ö Return to Board</a>
        </div>
        <div id="opContainer"></div>
        <div id="repliesContainer"></div>
    </div>

    <!-- 6. UTILS (NSFW Gate & Lightbox) -->
    <div id="nsfwGate" style="display:none;">
        <div class="gate-box">
            <h2>‚ö†Ô∏è 18+ ADULT CONTENT WARNING</h2>
            <p>This board (/<span id="gateBoardName"></span>/) contains <b>Explicit Adult Content</b>.</p>
            <p>You must be at least 18 years of age to enter.</p>
            <div style="margin-top: 20px; display: flex; gap: 10px; justify-content: center;">
                <button onclick="acceptNSFW()" class="btn-enter">I am 18+ / Enter</button>
                <button onclick="window.location.href='index.html'" class="btn-exit">Exit</button>
            </div>
        </div>
    </div>

    <div id="lightbox" onclick="closeLightbox(event)">
        <div id="lightboxContent">
            <img id="lbImg" style="display:none">
            <video id="lbVideo" controls style="display:none"></video>
            <iframe id="lbFrame" frameborder="0" allowfullscreen style="display:none"></iframe>
        </div>
    </div>

    <div id="bottom"></div>
    
    <!-- LOAD SCRIPTS (ORDER MATTERS) -->
    <script src="asset/js/config.js"></script>
    <script src="asset/js/utils.js"></script>
    <script src="asset/js/media.js"></script>
    <script src="asset/js/app.js"></script>
    <script src="asset/js/admin.js"></script>
</body>
</html>