html {
    scroll-behavior: smooth;
}

/* RESET & BASIC */
body {
    background-color: #ffe; /* Classic pale yellow */
    color: #800000; /* Dark red text */
    font-family: arial, helvetica, sans-serif;
    font-size: 10pt;
    margin: 0;
    padding: 10px;
}

a { color: #0000ee; text-decoration: none; cursor: pointer; }
a:hover { color: #d00; }

.header { text-align: center; margin-bottom: 20px; }
.header h1 { color: #af0a0a; font-size: 24px; margin: 5px; }

/* POST FORM */
.post-box {
    background-color: #f0e0d6;
    border: 1px solid #d9bfb7;
    width: 468px;
    margin: 0 auto;
    padding: 5px;
    display: table; 
}
.form-header {
    background-color: #e04000;
    color: white;
    font-weight: bold;
    text-align: center;
    padding: 2px;
}
form { display: flex; flex-direction: column; gap: 5px; padding: 10px; }
input, textarea { width: 98%; border: 1px solid #ccc; padding: 2px; }
textarea { height: 80px; resize: vertical; }

/* THREAD LIST */
.thread-card {
    border-bottom: 1px solid #d9bfb7;
    padding: 10px;
    margin-bottom: 10px;
    overflow: hidden; /* Clears floats */
}

/* INDIVIDUAL POSTS */
.post-info { background-color: #f0e0d6; padding: 2px; display: inline-block; }
.subject { color: #cc1105; font-weight: bold; }
.name { color: #117743; font-weight: bold; }
.time { color: #555; font-size: 0.9em; }

/* UPDATED IMAGE HANDLING (THUMBNAILS) */
.thread-image {
    float: left;
    margin: 5px 20px 20px 5px;
    
    /* Force thumbnail size constraints */
    max-width: 200px;
    max-height: 200px;
    width: auto;
    height: auto;
    
    border: 2px solid #000055;
    cursor: pointer; /* Shows hand icon on hover to indicate clickable */
}

.comment { margin-left: 15px; word-wrap: break-word; white-space: pre-wrap; }

/* REPLIES */
.reply {
    background-color: #f0e0d6;
    border: 1px solid #d9bfb7;
    margin: 4px 0 4px 20px; /* Indent */
    padding: 4px;
    display: table;
    min-width: 400px;
}
.reply .post-info { background-color: transparent; } /* Replies don't need darker headers */

.reply-link { float: right; font-size: 20px; margin-right: 10px; }

/* NEW: LIGHTBOX (THE POPUP OVERLAY) */
#lightbox {
    display: none; /* Hidden by default */
    position: fixed;
    z-index: 1000; /* Sit on top of everything */
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0,0,0,0.85); /* Dark semi-transparent background */
    
    /* Center the content */
    justify-content: center;
    align-items: center;
}

#lightbox img {
    max-width: 90%; /* Keep image within screen bounds */
    max-height: 90%;
    border: 2px solid white;
    box-shadow: 0 0 20px black;
    cursor: pointer;
}

/* QUOTING STYLES */
.quote-link {
    color: #d00;
    text-decoration: underline;
    cursor: pointer;
}

.backlink-container {
    font-size: 0.8em;
    margin-top: 5px;
    color: #dd0000;
}

.backlink {
    color: #dd0000;
    text-decoration: underline;
    margin-right: 5px;
}

/* Make the Post Number clickable and look active */
.post-id {
    color: #555;
    cursor: pointer;
}
.post-id:hover {
    color: #d00;
}

/* ADMIN/MOD STYLES */
.admin-delete-btn {
    display: none; /* Hidden by default */
    color: red;
    font-weight: bold;
    margin-left: 10px;
    cursor: pointer;
    border: 1px solid red;
    padding: 0 3px;
    font-size: 0.8em;
}

/* When Mod Mode is active, we will use JS to show these */
.mod-mode-active .admin-delete-btn {
    display: inline-block;

}

/* ===========================
   NIGHT MODE (NSFW BOARDS)
   =========================== */

body.night-mode {
    background-color: #1a1a1a; /* Dark Gray Background */
    color: #cccccc;            /* Light Gray Text */
}

/* Links need to be lighter to be visible on dark bg */
body.night-mode a { color: #8cbaff; } 
body.night-mode a:hover { color: #ff6666; }

/* The Post Form and Replies need dark backgrounds */
body.night-mode .post-box,
body.night-mode .post-info,
body.night-mode .reply {
    background-color: #2b2b2b;
    border-color: #444;       /* Darker borders */
    color: #ddd;
}

/* Form Headers */
body.night-mode .form-header {
    background-color: #900;   /* Darker Red */
}

/* Inputs (Text boxes) */
body.night-mode input,
body.night-mode textarea {
    background-color: #333;
    color: white;
    border: 1px solid #555;
}

/* Specific text colors */
body.night-mode .subject { color: #ff8888; } /* Light Red */
body.night-mode .name { color: #88ff88; }    /* Light Green */
body.night-mode .post-id { color: #888; }

/* Separator Line */
body.night-mode .thread-separator {
    border-bottom-color: #444;
}

/* Backlinks */
body.night-mode .backlink {
    color: #ff8888;
}
